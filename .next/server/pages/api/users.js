"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/users";
exports.ids = ["pages/api/users"];
exports.modules = {

/***/ "mysql2/promise":
/*!*********************************!*\
  !*** external "mysql2/promise" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("mysql2/promise");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fusers&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cusers.ts&middlewareConfigBase64=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fusers&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cusers.ts&middlewareConfigBase64=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_users_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\users.ts */ \"(api)/./pages/api/users.ts\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_users_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_users_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/users\",\n        pathname: \"/api/users\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_users_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnVzZXJzJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlNUNhcGklNUN1c2Vycy50cyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDTDtBQUMxRDtBQUNtRDtBQUNuRDtBQUNBLGlFQUFlLHdFQUFLLENBQUMsZ0RBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLGdEQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLGdIQUFtQjtBQUNsRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCIsInNvdXJjZXMiOlsid2VicGFjazovL2ZpbmQtbXktYnVkZHkvP2VhOWYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzXFxcXGFwaVxcXFx1c2Vycy50c1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3VzZXJzXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvdXNlcnNcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fusers&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cusers.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/db.ts":
/*!*******************!*\
  !*** ./lib/db.ts ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getDb: () => (/* binding */ getDb)\n/* harmony export */ });\n/* harmony import */ var mysql2_promise__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mysql2/promise */ \"mysql2/promise\");\n/* harmony import */ var mysql2_promise__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mysql2_promise__WEBPACK_IMPORTED_MODULE_0__);\n\nlet pool;\nconst getDb = ()=>{\n    if (!pool) {\n        if (false) {}\n        const host = \"45.9.2.198\";\n        const user = \"root\";\n        const password = \"HOEvPtB0n5PVhCxybWCKaxB6IlARYSBDzOf6idZs4AKikdEbKFXHSVo3ze4J2CoU\";\n        const database = \"find_my_buddy_db\";\n        const port = \"3306\" || 0;\n        const useSsl = process.env.MYSQL_SSL === \"true\";\n        // Log connection attempt (without password)\n        console.log(`Initializing DB connection to ${host}:${port} User: ${user} DB: ${database}`);\n        if (!host || !user || !database) {\n            throw new Error(`Database configuration missing. Required: host, user, database.`);\n        }\n        try {\n            const config = {\n                host,\n                user,\n                password,\n                database,\n                port: parseInt(port),\n                waitForConnections: true,\n                connectionLimit: 5,\n                queueLimit: 0,\n                connectTimeout: 20000,\n                enableKeepAlive: true,\n                keepAliveInitialDelay: 0\n            };\n            // Only add SSL if explicitly requested\n            if (useSsl) {\n                config.ssl = {\n                    rejectUnauthorized: false\n                };\n            }\n            pool = (0,mysql2_promise__WEBPACK_IMPORTED_MODULE_0__.createPool)(config);\n            if (false) {}\n            console.log(`Connected to MySQL at ${host} (SSL: ${useSsl})`);\n        } catch (err) {\n            console.error(\"DATABASE_POOL_ERROR:\", err.message);\n            throw err;\n        }\n    }\n    return pool;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvZGIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQStEO0FBRS9ELElBQUlDO0FBTUcsTUFBTUMsUUFBUTtJQUNuQixJQUFJLENBQUNELE1BQU07UUFDVCxJQUFJRSxLQUEyRCxFQUFFLEVBR2hFO1FBRUQsTUFBTUcsT0FBT0gsWUFBc0I7UUFDbkMsTUFBTU0sT0FBT04sTUFBc0I7UUFDbkMsTUFBTVEsV0FBV1Isa0VBQTBCO1FBQzNDLE1BQU1VLFdBQVdWLGtCQUEwQjtRQUMzQyxNQUFNWSxPQUFPWixNQUFzQixJQUFJO1FBQ3ZDLE1BQU1jLFNBQVNkLFFBQVFJLEdBQUcsQ0FBQ1csU0FBUyxLQUFLO1FBRXpDLDRDQUE0QztRQUM1Q0MsUUFBUUMsR0FBRyxDQUFDLENBQUMsOEJBQThCLEVBQUVkLEtBQUssQ0FBQyxFQUFFUyxLQUFLLE9BQU8sRUFBRU4sS0FBSyxLQUFLLEVBQUVJLFNBQVMsQ0FBQztRQUV6RixJQUFJLENBQUNQLFFBQVEsQ0FBQ0csUUFBUSxDQUFDSSxVQUFVO1lBQy9CLE1BQU0sSUFBSVEsTUFBTSxDQUFDLCtEQUErRCxDQUFDO1FBQ25GO1FBRUEsSUFBSTtZQUNGLE1BQU1DLFNBQXNCO2dCQUMxQmhCO2dCQUNBRztnQkFDQUU7Z0JBQ0FFO2dCQUNBRSxNQUFNUSxTQUFTUjtnQkFDZlMsb0JBQW9CO2dCQUNwQkMsaUJBQWlCO2dCQUNqQkMsWUFBWTtnQkFDWkMsZ0JBQWdCO2dCQUNoQkMsaUJBQWlCO2dCQUNqQkMsdUJBQXVCO1lBQ3pCO1lBRUEsdUNBQXVDO1lBQ3ZDLElBQUlaLFFBQVE7Z0JBQ1ZLLE9BQU9RLEdBQUcsR0FBRztvQkFBRUMsb0JBQW9CO2dCQUFNO1lBQzNDO1lBRUE5QixPQUFPRCwwREFBVUEsQ0FBQ3NCO1lBRWxCLElBQUluQixLQUF5QixFQUFjLEVBRTFDO1lBRURnQixRQUFRQyxHQUFHLENBQUMsQ0FBQyxzQkFBc0IsRUFBRWQsS0FBSyxPQUFPLEVBQUVXLE9BQU8sQ0FBQyxDQUFDO1FBQzlELEVBQUUsT0FBT2UsS0FBVTtZQUNqQmIsUUFBUWMsS0FBSyxDQUFDLHdCQUF3QkQsSUFBSUUsT0FBTztZQUNqRCxNQUFNRjtRQUNSO0lBQ0Y7SUFDQSxPQUFPL0I7QUFDVCxFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmluZC1teS1idWRkeS8uL2xpYi9kYi50cz8xZGYwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZVBvb2wsIFBvb2wsIFBvb2xPcHRpb25zIH0gZnJvbSAnbXlzcWwyL3Byb21pc2UnO1xuXG5sZXQgcG9vbDogUG9vbCB8IHVuZGVmaW5lZDtcblxuZGVjbGFyZSBnbG9iYWwge1xuICB2YXIgbXlzcWxHbG9iYWw6IFBvb2wgfCB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBjb25zdCBnZXREYiA9ICgpID0+IHtcbiAgaWYgKCFwb29sKSB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicgJiYgZ2xvYmFsLm15c3FsR2xvYmFsKSB7XG4gICAgICBwb29sID0gZ2xvYmFsLm15c3FsR2xvYmFsO1xuICAgICAgcmV0dXJuIHBvb2w7XG4gICAgfVxuXG4gICAgY29uc3QgaG9zdCA9IHByb2Nlc3MuZW52Lk1ZU1FMX0hPU1Q7XG4gICAgY29uc3QgdXNlciA9IHByb2Nlc3MuZW52Lk1ZU1FMX1VTRVI7XG4gICAgY29uc3QgcGFzc3dvcmQgPSBwcm9jZXNzLmVudi5NWVNRTF9QQVNTV09SRDtcbiAgICBjb25zdCBkYXRhYmFzZSA9IHByb2Nlc3MuZW52Lk1ZU1FMX0RBVEFCQVNFO1xuICAgIGNvbnN0IHBvcnQgPSBwcm9jZXNzLmVudi5NWVNRTF9QT1JUIHx8ICczMzA2JztcbiAgICBjb25zdCB1c2VTc2wgPSBwcm9jZXNzLmVudi5NWVNRTF9TU0wgPT09ICd0cnVlJztcblxuICAgIC8vIExvZyBjb25uZWN0aW9uIGF0dGVtcHQgKHdpdGhvdXQgcGFzc3dvcmQpXG4gICAgY29uc29sZS5sb2coYEluaXRpYWxpemluZyBEQiBjb25uZWN0aW9uIHRvICR7aG9zdH06JHtwb3J0fSBVc2VyOiAke3VzZXJ9IERCOiAke2RhdGFiYXNlfWApO1xuXG4gICAgaWYgKCFob3N0IHx8ICF1c2VyIHx8ICFkYXRhYmFzZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBEYXRhYmFzZSBjb25maWd1cmF0aW9uIG1pc3NpbmcuIFJlcXVpcmVkOiBob3N0LCB1c2VyLCBkYXRhYmFzZS5gKTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgY29uZmlnOiBQb29sT3B0aW9ucyA9IHtcbiAgICAgICAgaG9zdCxcbiAgICAgICAgdXNlcixcbiAgICAgICAgcGFzc3dvcmQsXG4gICAgICAgIGRhdGFiYXNlLFxuICAgICAgICBwb3J0OiBwYXJzZUludChwb3J0KSxcbiAgICAgICAgd2FpdEZvckNvbm5lY3Rpb25zOiB0cnVlLFxuICAgICAgICBjb25uZWN0aW9uTGltaXQ6IDUsXG4gICAgICAgIHF1ZXVlTGltaXQ6IDAsXG4gICAgICAgIGNvbm5lY3RUaW1lb3V0OiAyMDAwMCwgLy8gSW5jcmVhc2VkIHRpbWVvdXQgZm9yIHNlcnZlcmxlc3MgY29sZCBzdGFydHNcbiAgICAgICAgZW5hYmxlS2VlcEFsaXZlOiB0cnVlLFxuICAgICAgICBrZWVwQWxpdmVJbml0aWFsRGVsYXk6IDAsXG4gICAgICB9O1xuXG4gICAgICAvLyBPbmx5IGFkZCBTU0wgaWYgZXhwbGljaXRseSByZXF1ZXN0ZWRcbiAgICAgIGlmICh1c2VTc2wpIHtcbiAgICAgICAgY29uZmlnLnNzbCA9IHsgcmVqZWN0VW5hdXRob3JpemVkOiBmYWxzZSB9O1xuICAgICAgfVxuXG4gICAgICBwb29sID0gY3JlYXRlUG9vbChjb25maWcpO1xuXG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBnbG9iYWwubXlzcWxHbG9iYWwgPSBwb29sO1xuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmxvZyhgQ29ubmVjdGVkIHRvIE15U1FMIGF0ICR7aG9zdH0gKFNTTDogJHt1c2VTc2x9KWApO1xuICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdEQVRBQkFTRV9QT09MX0VSUk9SOicsIGVyci5tZXNzYWdlKTtcbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHBvb2w7XG59O1xuIl0sIm5hbWVzIjpbImNyZWF0ZVBvb2wiLCJwb29sIiwiZ2V0RGIiLCJwcm9jZXNzIiwiZ2xvYmFsIiwibXlzcWxHbG9iYWwiLCJob3N0IiwiZW52IiwiTVlTUUxfSE9TVCIsInVzZXIiLCJNWVNRTF9VU0VSIiwicGFzc3dvcmQiLCJNWVNRTF9QQVNTV09SRCIsImRhdGFiYXNlIiwiTVlTUUxfREFUQUJBU0UiLCJwb3J0IiwiTVlTUUxfUE9SVCIsInVzZVNzbCIsIk1ZU1FMX1NTTCIsImNvbnNvbGUiLCJsb2ciLCJFcnJvciIsImNvbmZpZyIsInBhcnNlSW50Iiwid2FpdEZvckNvbm5lY3Rpb25zIiwiY29ubmVjdGlvbkxpbWl0IiwicXVldWVMaW1pdCIsImNvbm5lY3RUaW1lb3V0IiwiZW5hYmxlS2VlcEFsaXZlIiwia2VlcEFsaXZlSW5pdGlhbERlbGF5Iiwic3NsIiwicmVqZWN0VW5hdXRob3JpemVkIiwiZXJyIiwiZXJyb3IiLCJtZXNzYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./lib/db.ts\n");

/***/ }),

/***/ "(api)/./pages/api/users.ts":
/*!****************************!*\
  !*** ./pages/api/users.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/db */ \"(api)/./lib/db.ts\");\n\nasync function ensureTable(db) {\n    const sql = `\n    CREATE TABLE IF NOT EXISTS users (\n      id VARCHAR(255) PRIMARY KEY,\n      name VARCHAR(255) NOT NULL,\n      email VARCHAR(255) UNIQUE NOT NULL,\n      address TEXT NOT NULL,\n      phone VARCHAR(50),\n      pinCode VARCHAR(10) NOT NULL,\n      password VARCHAR(255) NOT NULL,\n      status ENUM('pending', 'approved', 'rejected') DEFAULT 'pending',\n      role ENUM('admin', 'user') DEFAULT 'user',\n      createdAt DATETIME DEFAULT CURRENT_TIMESTAMP\n    )\n  `;\n    await db.execute(sql);\n}\nasync function handler(req, res) {\n    try {\n        const db = (0,_lib_db__WEBPACK_IMPORTED_MODULE_0__.getDb)();\n        // Ensure table exists on first run\n        try {\n            await ensureTable(db);\n        } catch (e) {\n            return res.status(500).json({\n                message: \"SQL Table Error\",\n                details: e.message,\n                code: e.code\n            });\n        }\n        if (req.method === \"GET\") {\n            const [rows] = await db.execute(\"SELECT * FROM users ORDER BY createdAt DESC\");\n            if (rows.length === 0) {\n                // Return seed admin if empty\n                return res.status(200).json([\n                    {\n                        id: \"admin-001\",\n                        name: \"System Admin\",\n                        email: \"admin@gmail.com\",\n                        password: \"admin123\",\n                        role: \"admin\",\n                        status: \"approved\",\n                        pinCode: \"000000\",\n                        address: \"Global HQ\",\n                        createdAt: new Date().toISOString().slice(0, 19).replace(\"T\", \" \")\n                    }\n                ]);\n            }\n            return res.status(200).json(rows);\n        }\n        if (req.method === \"POST\") {\n            const { name, email, address, phone, pinCode, password } = req.body;\n            const id = \"u_\" + Math.random().toString(36).substr(2, 9);\n            const createdAt = new Date().toISOString().slice(0, 19).replace(\"T\", \" \");\n            await db.execute(\"INSERT INTO users (id, name, email, address, phone, pinCode, password, status, role, createdAt) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\", [\n                id,\n                name,\n                email,\n                address,\n                phone || null,\n                pinCode,\n                password,\n                \"pending\",\n                \"user\",\n                createdAt\n            ]);\n            return res.status(201).json({\n                id,\n                name,\n                email,\n                status: \"pending\"\n            });\n        }\n        if (req.method === \"PATCH\") {\n            const { id } = req.query;\n            const { status } = req.body;\n            await db.execute(\"UPDATE users SET status = ? WHERE id = ?\", [\n                status,\n                id\n            ]);\n            return res.status(200).json({\n                message: \"Updated\"\n            });\n        }\n        return res.status(405).json({\n            message: \"Method Not Allowed\"\n        });\n    } catch (error) {\n        console.error(\"API_HANDLER_CRASH:\", error);\n        return res.status(500).json({\n            message: \"Database Connection Exception\",\n            details: error.message,\n            code: error.code || \"NO_CODE\"\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9maW5kLW15LWJ1ZGR5Ly4vcGFnZXMvYXBpL3VzZXJzLnRzPzg4NzIiXSwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgeyBOZXh0QXBpUmVxdWVzdCwgTmV4dEFwaVJlc3BvbnNlIH0gZnJvbSAnbmV4dCc7XG5pbXBvcnQgeyBnZXREYiB9IGZyb20gJy4uLy4uL2xpYi9kYic7XG5cbmFzeW5jIGZ1bmN0aW9uIGVuc3VyZVRhYmxlKGRiOiBhbnkpIHtcbiAgY29uc3Qgc3FsID0gYFxuICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIHVzZXJzIChcbiAgICAgIGlkIFZBUkNIQVIoMjU1KSBQUklNQVJZIEtFWSxcbiAgICAgIG5hbWUgVkFSQ0hBUigyNTUpIE5PVCBOVUxMLFxuICAgICAgZW1haWwgVkFSQ0hBUigyNTUpIFVOSVFVRSBOT1QgTlVMTCxcbiAgICAgIGFkZHJlc3MgVEVYVCBOT1QgTlVMTCxcbiAgICAgIHBob25lIFZBUkNIQVIoNTApLFxuICAgICAgcGluQ29kZSBWQVJDSEFSKDEwKSBOT1QgTlVMTCxcbiAgICAgIHBhc3N3b3JkIFZBUkNIQVIoMjU1KSBOT1QgTlVMTCxcbiAgICAgIHN0YXR1cyBFTlVNKCdwZW5kaW5nJywgJ2FwcHJvdmVkJywgJ3JlamVjdGVkJykgREVGQVVMVCAncGVuZGluZycsXG4gICAgICByb2xlIEVOVU0oJ2FkbWluJywgJ3VzZXInKSBERUZBVUxUICd1c2VyJyxcbiAgICAgIGNyZWF0ZWRBdCBEQVRFVElNRSBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QXG4gICAgKVxuICBgO1xuICBhd2FpdCBkYi5leGVjdXRlKHNxbCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxOiBOZXh0QXBpUmVxdWVzdCwgcmVzOiBOZXh0QXBpUmVzcG9uc2UpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBkYiA9IGdldERiKCk7XG5cbiAgICAvLyBFbnN1cmUgdGFibGUgZXhpc3RzIG9uIGZpcnN0IHJ1blxuICAgIHRyeSB7XG4gICAgICBhd2FpdCBlbnN1cmVUYWJsZShkYik7XG4gICAgfSBjYXRjaCAoZTogYW55KSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xuICAgICAgICBtZXNzYWdlOiAnU1FMIFRhYmxlIEVycm9yJyxcbiAgICAgICAgZGV0YWlsczogZS5tZXNzYWdlLFxuICAgICAgICBjb2RlOiBlLmNvZGVcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChyZXEubWV0aG9kID09PSAnR0VUJykge1xuICAgICAgY29uc3QgW3Jvd3NdOiBhbnkgPSBhd2FpdCBkYi5leGVjdXRlKCdTRUxFQ1QgKiBGUk9NIHVzZXJzIE9SREVSIEJZIGNyZWF0ZWRBdCBERVNDJyk7XG5cbiAgICAgIGlmIChyb3dzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAvLyBSZXR1cm4gc2VlZCBhZG1pbiBpZiBlbXB0eVxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oW3tcbiAgICAgICAgICBpZDogJ2FkbWluLTAwMScsXG4gICAgICAgICAgbmFtZTogJ1N5c3RlbSBBZG1pbicsXG4gICAgICAgICAgZW1haWw6ICdhZG1pbkBnbWFpbC5jb20nLFxuICAgICAgICAgIHBhc3N3b3JkOiAnYWRtaW4xMjMnLFxuICAgICAgICAgIHJvbGU6ICdhZG1pbicsXG4gICAgICAgICAgc3RhdHVzOiAnYXBwcm92ZWQnLFxuICAgICAgICAgIHBpbkNvZGU6ICcwMDAwMDAnLFxuICAgICAgICAgIGFkZHJlc3M6ICdHbG9iYWwgSFEnLFxuICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNsaWNlKDAsIDE5KS5yZXBsYWNlKCdUJywgJyAnKVxuICAgICAgICB9XSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24ocm93cyk7XG4gICAgfVxuXG4gICAgaWYgKHJlcS5tZXRob2QgPT09ICdQT1NUJykge1xuICAgICAgY29uc3QgeyBuYW1lLCBlbWFpbCwgYWRkcmVzcywgcGhvbmUsIHBpbkNvZGUsIHBhc3N3b3JkIH0gPSByZXEuYm9keTtcbiAgICAgIGNvbnN0IGlkID0gJ3VfJyArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KTtcbiAgICAgIGNvbnN0IGNyZWF0ZWRBdCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxOSkucmVwbGFjZSgnVCcsICcgJyk7XG5cbiAgICAgIGF3YWl0IGRiLmV4ZWN1dGUoXG4gICAgICAgICdJTlNFUlQgSU5UTyB1c2VycyAoaWQsIG5hbWUsIGVtYWlsLCBhZGRyZXNzLCBwaG9uZSwgcGluQ29kZSwgcGFzc3dvcmQsIHN0YXR1cywgcm9sZSwgY3JlYXRlZEF0KSBWQUxVRVMgKD8sID8sID8sID8sID8sID8sID8sID8sID8sID8pJyxcbiAgICAgICAgW2lkLCBuYW1lLCBlbWFpbCwgYWRkcmVzcywgcGhvbmUgfHwgbnVsbCwgcGluQ29kZSwgcGFzc3dvcmQsICdwZW5kaW5nJywgJ3VzZXInLCBjcmVhdGVkQXRdXG4gICAgICApO1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5qc29uKHsgaWQsIG5hbWUsIGVtYWlsLCBzdGF0dXM6ICdwZW5kaW5nJyB9KTtcbiAgICB9XG5cbiAgICBpZiAocmVxLm1ldGhvZCA9PT0gJ1BBVENIJykge1xuICAgICAgY29uc3QgeyBpZCB9ID0gcmVxLnF1ZXJ5O1xuICAgICAgY29uc3QgeyBzdGF0dXMgfSA9IHJlcS5ib2R5O1xuICAgICAgYXdhaXQgZGIuZXhlY3V0ZSgnVVBEQVRFIHVzZXJzIFNFVCBzdGF0dXMgPSA/IFdIRVJFIGlkID0gPycsIFtzdGF0dXMsIGlkXSk7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyBtZXNzYWdlOiAnVXBkYXRlZCcgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA1KS5qc29uKHsgbWVzc2FnZTogJ01ldGhvZCBOb3QgQWxsb3dlZCcgfSk7XG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICBjb25zb2xlLmVycm9yKCdBUElfSEFORExFUl9DUkFTSDonLCBlcnJvcik7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcbiAgICAgIG1lc3NhZ2U6ICdEYXRhYmFzZSBDb25uZWN0aW9uIEV4Y2VwdGlvbicsXG4gICAgICBkZXRhaWxzOiBlcnJvci5tZXNzYWdlLFxuICAgICAgY29kZTogZXJyb3IuY29kZSB8fCAnTk9fQ09ERSdcbiAgICB9KTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbImdldERiIiwiZW5zdXJlVGFibGUiLCJkYiIsInNxbCIsImV4ZWN1dGUiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwiZSIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwiZGV0YWlscyIsImNvZGUiLCJtZXRob2QiLCJyb3dzIiwibGVuZ3RoIiwiaWQiLCJuYW1lIiwiZW1haWwiLCJwYXNzd29yZCIsInJvbGUiLCJwaW5Db2RlIiwiYWRkcmVzcyIsImNyZWF0ZWRBdCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInNsaWNlIiwicmVwbGFjZSIsInBob25lIiwiYm9keSIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0ciIsInF1ZXJ5IiwiZXJyb3IiLCJjb25zb2xlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/users.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fusers&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cusers.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();